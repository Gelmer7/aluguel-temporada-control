<div class="flex h-screen overflow-hidden bg-surface-50 dark:bg-surface-950" aria-label="Shell do dashboard">

  <!-- Menu Unificado -->
  <app-sidebar-menu
    [items]="navItems"
    [visible]="menuVisible()"
    (onVisibleChange)="menuVisible.set($event)"
  ></app-sidebar-menu>

  <div class="flex flex-col flex-1 overflow-hidden relative">
    <!-- Botão Flutuante para Abrir Menu -->
    <div class="fixed top-3 left-3 z-50 flex items-center gap-1 sm:hidden">
      <p-button
        icon="pi pi-bars"
        [rounded]="true"
        [raised]="true"
        severity="secondary"
        (onClick)="menuVisible.set(true)"
        pTooltip="Abrir Menu"
        tooltipPosition="right"
      />
    </div>

    <main class="flex-1 flex flex-col min-w-0 overflow-hidden" role="main" aria-label="Área principal">
      <!-- Header Fixo -->
      <app-page-header class="sticky top-0 z-40" />

      <section
        class="flex-1 flex flex-col min-h-0 overflow-auto"
        aria-label="Conteúdo"
      >
        <router-outlet></router-outlet>
      </section>
    </main>
  </div>
</div>
